<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>匹配属于你的动物塑 | 全球动物性格测试</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Noto Sans SC', 'Segoe UI', 'Microsoft YaHei', sans-serif;
        }
        
        :root {
            --primary-color: #4a90e2;
            --secondary-color: #ff7e5f;
            --accent-color: #8e44ad;
            --light-color: #f8f9fa;
            --dark-color: #2c3e50;
            --text-color: #333;
            --border-radius: 12px;
            --shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            --transition: all 0.3s ease;
        }
        
        body {
            background-color: #f0f7ff;
            color: var(--text-color);
            line-height: 1.6;
            min-height: 100vh;
            background-image: radial-gradient(#c9e6ff 2px, transparent 2px);
            background-size: 30px 30px;
        }
        
        .container {
            width: 100%;
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
        }
        
        /* 封面页样式 */
        .cover-page {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 90vh;
            text-align: center;
            padding: 30px 20px;
            animation: fadeIn 1s ease-out;
        }
        
        .logo {
            font-size: 3.5rem;
            color: var(--primary-color);
            margin-bottom: 20px;
            animation: float 3s ease-in-out infinite;
        }
        
        h1 {
            font-size: 2.8rem;
            color: var(--dark-color);
            margin-bottom: 15px;
            background: linear-gradient(to right, var(--primary-color), var(--accent-color));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            line-height: 1.2;
        }
        
        .subtitle {
            font-size: 1.2rem;
            color: var(--dark-color);
            margin-bottom: 40px;
            max-width: 600px;
            opacity: 0.8;
        }
        
        .animal-counter {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background: rgba(74, 144, 226, 0.1);
            padding: 8px 16px;
            border-radius: 30px;
            margin-bottom: 30px;
            color: var(--primary-color);
            font-weight: 500;
        }
        
        .start-btn {
            background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
            color: white;
            border: none;
            padding: 18px 50px;
            font-size: 1.4rem;
            border-radius: 50px;
            cursor: pointer;
            transition: var(--transition);
            box-shadow: var(--shadow);
            font-weight: 600;
            letter-spacing: 1px;
            margin-top: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .start-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.15);
            background: linear-gradient(135deg, var(--accent-color), var(--primary-color));
        }
        
        .animal-categories {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 15px;
            margin-top: 40px;
            max-width: 700px;
        }
        
        .category-tag {
            background: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.9rem;
            box-shadow: 0 3px 8px rgba(0, 0, 0, 0.08);
            display: flex;
            align-items: center;
            gap: 6px;
            color: var(--dark-color);
        }
        
        /* 测试页样式 */
        .test-page {
            display: none;
            min-height: 90vh;
            padding: 30px 20px;
            animation: fadeIn 0.5s ease-out;
        }
        
        .progress-container {
            width: 100%;
            background-color: #e0e0e0;
            border-radius: 10px;
            margin-bottom: 30px;
            overflow: hidden;
            height: 10px;
        }
        
        .progress-bar {
            height: 100%;
            background: linear-gradient(to right, var(--primary-color), var(--accent-color));
            width: 5%;
            border-radius: 10px;
            transition: width 0.5s ease;
        }
        
        .progress-text {
            text-align: center;
            margin-bottom: 10px;
            font-weight: 600;
            color: var(--dark-color);
        }
        
        .question-container {
            background-color: white;
            border-radius: var(--border-radius);
            padding: 40px;
            box-shadow: var(--shadow);
            margin-bottom: 30px;
            animation: slideIn 0.5s ease-out;
        }
        
        .question-number {
            font-size: 1rem;
            color: var(--primary-color);
            font-weight: 600;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .question-text {
            font-size: 1.5rem;
            color: var(--dark-color);
            margin-bottom: 30px;
            line-height: 1.4;
        }
        
        .options-container {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .option {
            background-color: var(--light-color);
            border: 2px solid #e0e0e0;
            border-radius: var(--border-radius);
            padding: 18px 20px;
            cursor: pointer;
            transition: var(--transition);
            font-size: 1.1rem;
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .option:hover {
            border-color: var(--primary-color);
            background-color: rgba(74, 144, 226, 0.05);
            transform: translateX(5px);
        }
        
        .option.selected {
            border-color: var(--primary-color);
            background-color: rgba(74, 144, 226, 0.1);
        }
        
        .option-icon {
            color: var(--primary-color);
            font-size: 1.2rem;
        }
        
        .option-text {
            flex: 1;
        }
        
        .nav-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }
        
        .nav-btn {
            padding: 12px 25px;
            border: none;
            border-radius: var(--border-radius);
            font-size: 1rem;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 500;
        }
        
        .nav-btn.prev {
            background-color: #f0f0f0;
            color: var(--dark-color);
        }
        
        .nav-btn.next {
            background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
            color: white;
        }
        
        .nav-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 10px rgba(0, 0, 0, 0.1);
        }
        
        .nav-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        /* 结果页样式 */
        .result-page {
            display: none;
            min-height: 90vh;
            padding: 30px 20px;
            animation: fadeIn 0.8s ease-out;
        }
        
        .result-header {
            text-align: center;
            margin-bottom: 40px;
        }
        
        .result-title {
            font-size: 2.5rem;
            color: var(--dark-color);
            margin-bottom: 15px;
        }
        
        .result-subtitle {
            font-size: 1.2rem;
            color: var(--primary-color);
            margin-bottom: 30px;
        }
        
        .result-content {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 40px;
        }
        
        .animal-card {
            background-color: white;
            border-radius: var(--border-radius);
            padding: 30px;
            box-shadow: var(--shadow);
            width: 100%;
            max-width: 700px;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
        }
        
        .animal-icon {
            font-size: 4rem;
            color: var(--primary-color);
            margin-bottom: 20px;
        }
        
        .animal-name {
            font-size: 2.2rem;
            color: var(--dark-color);
            margin-bottom: 10px;
        }
        
        .animal-scientific {
            font-size: 1rem;
            color: #666;
            font-style: italic;
            margin-bottom: 20px;
        }
        
        .animal-description {
            font-size: 1.1rem;
            line-height: 1.7;
            margin-bottom: 30px;
            text-align: left;
        }
        
        .traits-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 12px;
            margin-bottom: 30px;
        }
        
        .trait {
            background: rgba(74, 144, 226, 0.1);
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.9rem;
            color: var(--primary-color);
            font-weight: 500;
        }
        
        .match-percentage {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 30px;
            padding: 15px 25px;
            background: linear-gradient(135deg, rgba(74, 144, 226, 0.1), rgba(142, 68, 173, 0.1));
            border-radius: var(--border-radius);
            width: 100%;
            max-width: 300px;
            justify-content: center;
        }
        
        .percentage-circle {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: conic-gradient(var(--primary-color) 0% 85%, #e0e0e0 85% 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--dark-color);
            position: relative;
        }
        
        .percentage-circle::before {
            content: '';
            position: absolute;
            width: 70px;
            height: 70px;
            background-color: white;
            border-radius: 50%;
        }
        
        .percentage-circle span {
            position: relative;
            z-index: 1;
        }
        
        .other-animals {
            width: 100%;
            max-width: 700px;
            background-color: white;
            border-radius: var(--border-radius);
            padding: 30px;
            box-shadow: var(--shadow);
        }
        
        .other-animals-title {
            font-size: 1.5rem;
            color: var(--dark-color);
            margin-bottom: 20px;
            text-align: center;
        }
        
        .other-animals-list {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            justify-content: center;
        }
        
        .other-animal {
            display: flex;
            flex-direction: column;
            align-items: center;
            background-color: #f9f9f9;
            padding: 15px;
            border-radius: var(--border-radius);
            width: 120px;
            transition: var(--transition);
            cursor: pointer;
        }
        
        .other-animal:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 10px rgba(0, 0, 0, 0.1);
        }
        
        .other-animal-icon {
            font-size: 2rem;
            color: var(--primary-color);
            margin-bottom: 10px;
        }
        
        .action-buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 40px;
        }
        
        .action-btn {
            padding: 15px 30px;
            border: none;
            border-radius: var(--border-radius);
            font-size: 1.1rem;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 10px;
            font-weight: 500;
        }
        
        .action-btn.restart {
            background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
            color: white;
        }
        
        .action-btn.share {
            background-color: #f0f0f0;
            color: var(--dark-color);
        }
        
        .action-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.1);
        }
        
        /* 动画效果 */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        @keyframes slideIn {
            from { transform: translateY(20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        
        /* 响应式设计 */
        @media (max-width: 768px) {
            h1 {
                font-size: 2.2rem;
            }
            
            .question-text {
                font-size: 1.3rem;
            }
            
            .animal-card, .other-animals {
                padding: 20px;
            }
            
            .animal-name {
                font-size: 1.8rem;
            }
            
            .nav-buttons {
                flex-direction: column;
                gap: 15px;
            }
            
            .nav-btn {
                width: 100%;
                justify-content: center;
            }
            
            .action-buttons {
                flex-direction: column;
                align-items: center;
            }
            
            .action-btn {
                width: 100%;
                max-width: 300px;
                justify-content: center;
            }
        }
        
        .animal-type-tag {
            background: rgba(255, 126, 95, 0.1);
            color: var(--secondary-color);
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 0.8rem;
            margin-top: 5px;
            display: inline-block;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- 封面页 -->
        <div class="cover-page" id="coverPage">
            <div class="logo">
                <i class="fas fa-paw"></i>
            </div>
            <h1>匹配属于你的动物塑</h1>
            <p class="subtitle">通过20道精心设计的题目，发现你与全球各类动物的神秘联系。从非洲草原到深海，从热带雨林到北极冰川，找到你的动物灵魂伴侣！</p>
            
            <div class="animal-counter">
                <i class="fas fa-globe-americas"></i>
                <span>覆盖全球6大洲超过50种代表性动物</span>
            </div>
            
            <button class="start-btn" id="startBtn">
                <i class="fas fa-play-circle"></i>
                开始测试
            </button>
            
            <div class="animal-categories">
                <div class="category-tag"><i class="fas fa-lion"></i> 哺乳动物</div>
                <div class="category-tag"><i class="fas fa-dove"></i> 鸟类</div>
                <div class="category-tag"><i class="fas fa-fish"></i> 水生动物</div>
                <div class="category-tag"><i class="fas fa-spider"></i> 昆虫与蛛形纲</div>
                <div class="category-tag"><i class="fas fa-dragon"></i> 爬行动物</div>
                <div class="category-tag"><i class="fas fa-paw"></i> 其他动物</div>
            </div>
        </div>
        
        <!-- 测试页 -->
        <div class="test-page" id="testPage">
            <div class="progress-container">
                <div class="progress-bar" id="progressBar"></div>
            </div>
            <div class="progress-text" id="progressText">第1题，共20题</div>
            
            <div class="question-container" id="questionContainer">
                <div class="question-number">
                    <i class="fas fa-question-circle"></i>
                    问题 <span id="currentQuestion">1</span>
                </div>
                <div class="question-text" id="questionText"></div>
                
                <div class="options-container" id="optionsContainer">
                    <!-- 选项将通过JS动态生成 -->
                </div>
                
                <div class="nav-buttons">
                    <button class="nav-btn prev" id="prevBtn" disabled>
                        <i class="fas fa-arrow-left"></i>
                        上一题
                    </button>
                    <button class="nav-btn next" id="nextBtn">
                        下一题
                        <i class="fas fa-arrow-right"></i>
                    </button>
                </div>
            </div>
        </div>
        
        <!-- 结果页 -->
        <div class="result-page" id="resultPage">
            <div class="result-header">
                <h2 class="result-title">你的动物塑匹配结果</h2>
                <p class="result-subtitle">基于你的回答，我们找到了最匹配你的动物灵魂！</p>
            </div>
            
            <div class="result-content">
                <div class="animal-card">
                    <div class="animal-icon" id="resultIcon"></div>
                    <h3 class="animal-name" id="resultName"></h3>
                    <p class="animal-scientific" id="resultScientific"></p>
                    <p class="animal-description" id="resultDescription"></p>
                    
                    <div class="traits-container" id="resultTraits">
                        <!-- 特征标签将通过JS动态生成 -->
                    </div>
                    
                    <div class="match-percentage">
                        <div class="percentage-circle">
                            <span id="matchPercentage">85%</span>
                        </div>
                        <div>
                            <div style="font-size: 1.1rem; font-weight: 600; margin-bottom: 5px;">匹配度</div>
                            <div style="font-size: 0.9rem; color: #666;">与你的性格契合度</div>
                        </div>
                    </div>
                </div>
                
                <div class="other-animals">
                    <h3 class="other-animals-title">其他可能匹配的动物</h3>
                    <div class="other-animals-list" id="otherAnimalsList">
                        <!-- 其他动物将通过JS动态生成 -->
                    </div>
                </div>
                
                <div class="action-buttons">
                    <button class="action-btn restart" id="restartBtn">
                        <i class="fas fa-redo"></i>
                        重新测试
                    </button>
                    <button class="action-btn share" id="shareBtn">
                        <i class="fas fa-share-alt"></i>
                        分享结果
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // 动物数据库 - 包含全球各类代表性动物
        const animalsDatabase = [
            // 哺乳动物
            { 
                id: 1, 
                name: "非洲狮", 
                scientific: "Panthera leo",
                icon: "fas fa-lion",
                type: "哺乳动物",
                traits: ["领导力", "勇气", "保护欲", "自信", "社交"],
                description: "非洲狮是草原上的王者，具有强大的领导力和保护群体的本能。你像狮子一样天生具有领导气质，勇于承担责任，善于保护身边的人，在群体中自然成为核心人物。",
                region: "非洲草原"
            },
            { 
                id: 2, 
                name: "大熊猫", 
                scientific: "Ailuropoda melanoleuca",
                icon: "fas fa-paw",
                type: "哺乳动物",
                traits: ["温和", "和平", "独特", "适应力", "悠闲"],
                description: "大熊猫是和平与独特的象征，以其温和的性格和独特的外表受到全世界喜爱。你像大熊猫一样具有温和的性格，追求和平与和谐，虽然看似悠闲，但内心有着强大的适应能力。",
                region: "中国"
            },
            { 
                id: 3, 
                name: "红狐狸", 
                scientific: "Vulpes vulpes",
                icon: "fas fa-fox",
                type: "哺乳动物",
                traits: ["机智", "灵活", "适应力", "好奇心", "独立"],
                description: "红狐狸是聪明与机智的代表，能够适应各种环境并找到解决问题的创造性方法。你像狐狸一样机智灵活，总能在复杂情况下找到出路，拥有强烈的好奇心和独立解决问题的能力。",
                region: "北半球广泛分布"
            },
            { 
                id: 4, 
                name: "座头鲸", 
                scientific: "Megaptera novaeangliae",
                icon: "fas fa-whale",
                type: "哺乳动物",
                traits: ["智慧", "沟通", "迁徙", "保护欲", "深沉"],
                description: "座头鲸是海洋中的智慧巨兽，以其复杂的歌声和长途迁徙而闻名。你像座头鲸一样深沉而智慧，善于沟通表达，有着强烈的情感和保护欲，同时具备长途跋涉的毅力。",
                region: "全球海洋"
            },
            { 
                id: 5, 
                name: "北极狐", 
                scientific: "Vulpes lagopus",
                icon: "fas fa-snowflake",
                type: "哺乳动物",
                traits: ["适应力", "耐寒", "变色", "生存力", "机智"],
                description: "北极狐是极地生存专家，能够适应极端环境并随季节改变毛色。你像北极狐一样具有惊人的适应能力，能够在困难环境中生存并找到机会，外表可能随环境变化，但内心始终坚韧。",
                region: "北极地区"
            },
            // 鸟类
            { 
                id: 6, 
                name: "金刚鹦鹉", 
                scientific: "Ara ararauna",
                icon: "fas fa-dove",
                type: "鸟类",
                traits: ["社交", "色彩", "长寿", "智慧", "发声"],
                description: "金刚鹦鹉是热带雨林中的色彩大师，以其鲜艳的羽毛和社交性而闻名。你像金刚鹦鹉一样热爱社交，为周围环境带来色彩和活力，拥有长久的记忆力和智慧，善于表达自己。",
                region: "南美洲热带雨林"
            },
            { 
                id: 7, 
                name: "帝企鹅", 
                scientific: "Aptenodytes forsteri",
                icon: "fas fa-kiwi-bird",
                type: "鸟类",
                traits: ["耐力", "合作", "父爱", "抗寒", "纪律"],
                description: "帝企鹅是南极的生存专家，以其极端的耐寒能力和团队合作精神而闻名。你像帝企鹅一样具有惊人的耐力，能够在极端困难的环境中坚持，重视家庭和团队合作，有强烈的责任感。",
                region: "南极"
            },
            { 
                id: 8, 
                name: "猫头鹰", 
                scientific: "Strigiformes",
                icon: "fas fa-owl",
                type: "鸟类",
                traits: ["智慧", "观察力", "夜间", "耐心", "神秘"],
                description: "猫头鹰是夜间的智慧象征，以其敏锐的观察力和耐心等待而闻名。你像猫头鹰一样善于观察和思考，在安静中洞察事物的本质，拥有神秘的气质和超凡的耐心。",
                region: "全球广泛分布"
            },
            // 水生动物
            { 
                id: 9, 
                name: "海豚", 
                scientific: "Delphinidae",
                icon: "fas fa-fish",
                type: "水生动物",
                traits: ["智慧", "友善", "社交", "玩耍", "回声定位"],
                description: "海豚是海洋中的智慧精灵，以其高度的社交性、友善和智慧而闻名。你像海豚一样聪明友善，热爱社交和团队合作，总是为周围带来欢乐，同时拥有出色的沟通能力。",
                region: "全球海洋"
            },
            { 
                id: 10, 
                name: "章鱼", 
                scientific: "Octopoda",
                icon: "fas fa-octopus",
                type: "水生动物",
                traits: ["智慧", "变形", "伪装", "解决问题", "独立"],
                description: "章鱼是海洋中的智慧谜题，以其惊人的变形能力和解决问题的能力而闻名。你像章鱼一样机智灵活，善于解决复杂问题，能够适应各种环境并找到创造性的解决方案。",
                region: "全球海洋"
            },
            // 爬行动物
            { 
                id: 11, 
                name: "科莫多巨蜥", 
                scientific: "Varanus komodoensis",
                icon: "fas fa-dragon",
                type: "爬行动物",
                traits: ["耐心", "力量", "古老", "适应力", "独居"],
                description: "科莫多巨蜥是现存的古老爬行动物代表，以其强大的力量和耐心的狩猎方式而闻名。你像科莫多巨蜥一样具有古老的智慧，行事耐心而果断，拥有强大的适应能力和独立性。",
                region: "印尼科莫多岛"
            },
            { 
                id: 12, 
                name: "绿海龟", 
                scientific: "Chelonia mydas",
                icon: "fas fa-turtle",
                type: "爬行动物",
                traits: ["长寿", "迁徙", "和平", "耐力", "导航"],
                description: "绿海龟是海洋中的长寿旅行家，以其惊人的迁徙能力和和平的性格而闻名。你像绿海龟一样具有长远的眼光和惊人的耐力，能够在人生的长途旅行中保持方向，性格平和而坚定。",
                region: "全球热带和亚热带海洋"
            },
            // 昆虫与蛛形纲
            { 
                id: 13, 
                name: "君主斑蝶", 
                scientific: "Danaus plexippus",
                icon: "fas fa-butterfly",
                type: "昆虫",
                traits: ["迁徙", "蜕变", "色彩", "耐力", "导航"],
                description: "君主斑蝶是昆虫界的迁徙奇迹，以其惊人的长途迁徙和美丽的蜕变过程而闻名。你像君主斑蝶一样经历过美丽的蜕变，拥有惊人的毅力和导航能力，能够在人生的旅程中找到方向。",
                region: "北美洲"
            },
            { 
                id: 14, 
                name: "跳蛛", 
                scientific: "Salticidae",
                icon: "fas fa-spider",
                type: "蛛形纲",
                traits: ["跳跃", "视力", "耐心", "精准", "独立"],
                description: "跳蛛是蛛形纲中的视觉专家，以其卓越的视力和精准的跳跃能力而闻名。你像跳蛛一样具有敏锐的观察力，能够精准地抓住机会，行事耐心而独立，总是能在关键时刻做出正确的跳跃。",
                region: "全球广泛分布"
            },
            // 其他动物
            { 
                id: 15, 
                name: "巨型管水母", 
                scientific: "Praya dubia",
                icon: "fas fa-jellyfish",
                type: "其他动物",
                traits: ["群体", "透明", "深海", "合作", "适应"],
                description: "巨型管水母是深海中的群体奇迹，实际上是许多个体组成的超级生物体。你像管水母一样重视群体合作，在集体中能够发挥最大价值，适应深海般复杂的环境，拥有透明真诚的性格。",
                region: "深海"
            }
        ];

        // 测试问题
        const questions = [
            {
                id: 1,
                text: "在社交场合中，你通常扮演什么角色？",
                options: [
                    { text: "领导者，组织大家活动", animalId: 1 },
                    { text: "开心果，活跃气氛", animalId: 9 },
                    { text: "观察者，安静地观察周围", animalId: 8 },
                    { text: "协调者，帮助大家沟通", animalId: 6 }
                ]
            },
            {
                id: 2,
                text: "面对新环境，你的第一反应是？",
                options: [
                    { text: "兴奋探索，寻找机会", animalId: 10 },
                    { text: "谨慎观察，了解规则", animalId: 3 },
                    { text: "寻找同伴，建立社交", animalId: 9 },
                    { text: "保持距离，慢慢适应", animalId: 5 }
                ]
            },
            {
                id: 3,
                text: "你如何处理压力或挑战？",
                options: [
                    { text: "直面挑战，积极解决", animalId: 1 },
                    { text: "寻求帮助，团队合作", animalId: 7 },
                    { text: "独立思考，创造方案", animalId: 10 },
                    { text: "暂时回避，等待时机", animalId: 11 }
                ]
            },
            {
                id: 4,
                text: "周末你更喜欢如何度过？",
                options: [
                    { text: "与朋友聚会或参加活动", animalId: 6 },
                    { text: "户外探险或运动", animalId: 13 },
                    { text: "在家安静阅读或思考", animalId: 8 },
                    { text: "学习新技能或知识", animalId: 10 }
                ]
            },
            {
                id: 5,
                text: "在工作中，你更倾向于？",
                options: [
                    { text: "领导团队，制定方向", animalId: 1 },
                    { text: "团队合作，共同完成", animalId: 15 },
                    { text: "独立工作，专注细节", animalId: 14 },
                    { text: "创造性解决问题", animalId: 3 }
                ]
            },
            {
                id: 6,
                text: "你如何描述自己的沟通风格？",
                options: [
                    { text: "直接明确，有说服力", animalId: 1 },
                    { text: "友善热情，富有感染力", animalId: 9 },
                    { text: "深思熟虑，有逻辑性", animalId: 8 },
                    { text: "灵活变通，适应对方", animalId: 5 }
                ]
            },
            {
                id: 7,
                text: "你更看重以下哪种价值观？",
                options: [
                    { text: "自由和独立", animalId: 3 },
                    { text: "家庭和关系", animalId: 7 },
                    { text: "知识和智慧", animalId: 8 },
                    { text: "和平与和谐", animalId: 2 }
                ]
            },
            {
                id: 8,
                text: "面对冲突，你的处理方式是？",
                options: [
                    { text: "直接面对，解决问题", animalId: 11 },
                    { text: "寻求妥协，保持和谐", animalId: 2 },
                    { text: "暂时回避，冷静思考", animalId: 5 },
                    { text: "借助外力，协调解决", animalId: 6 }
                ]
            },
            {
                id: 9,
                text: "你更喜欢哪种学习方式？",
                options: [
                    { text: "实践操作，亲身尝试", animalId: 10 },
                    { text: "系统学习，建立框架", animalId: 4 },
                    { text: "观察模仿，总结经验", animalId: 14 },
                    { text: "交流讨论，分享观点", animalId: 9 }
                ]
            },
            {
                id: 10,
                text: "你如何应对变化？",
                options: [
                    { text: "积极适应，寻找机会", animalId: 5 },
                    { text: "谨慎评估，逐步调整", animalId: 12 },
                    { text: "创造变化，主导进程", animalId: 1 },
                    { text: "依靠团队，共同应对", animalId: 7 }
                ]
            },
            {
                id: 11,
                text: "你更倾向于哪种工作环境？",
                options: [
                    { text: "快节奏，充满挑战", animalId: 13 },
                    { text: "稳定有序，有规律", animalId: 12 },
                    { text: "灵活自由，有创造性", animalId: 3 },
                    { text: "团队协作，社交性强", animalId: 15 }
                ]
            },
            {
                id: 12,
                text: "你的决策风格更接近？",
                options: [
                    { text: "快速果断，凭直觉", animalId: 14 },
                    { text: "深思熟虑，分析利弊", animalId: 8 },
                    { text: "咨询他人，集体决定", animalId: 6 },
                    { text: "灵活调整，根据情况", animalId: 10 }
                ]
            },
            {
                id: 13,
                text: "你如何看待冒险？",
                options: [
                    { text: "热爱冒险，寻求刺激", animalId: 13 },
                    { text: "适度冒险，计算风险", animalId: 3 },
                    { text: "避免冒险，追求稳定", animalId: 2 },
                    { text: "团队冒险，共同承担", animalId: 7 }
                ]
            },
            {
                id: 14,
                text: "你如何表达情感？",
                options: [
                    { text: "直接表达，热情外露", animalId: 9 },
                    { text: "含蓄内敛，间接表达", animalId: 8 },
                    { text: "通过行动，而非语言", animalId: 11 },
                    { text: "选择性表达，因人而异", animalId: 5 }
                ]
            },
            {
                id: 15,
                text: "你更看重未来的什么？",
                options: [
                    { text: "个人成就和成长", animalId: 4 },
                    { text: "家庭和人际关系", animalId: 7 },
                    { text: "知识和智慧积累", animalId: 10 },
                    { text: "社会影响和贡献", animalId: 1 }
                ]
            },
            {
                id: 16,
                text: "你如何处理复杂问题？",
                options: [
                    { text: "分解问题，逐步解决", animalId: 14 },
                    { text: "整体思考，系统解决", animalId: 10 },
                    { text: "寻求帮助，团队协作", animalId: 15 },
                    { text: "暂时搁置，等待灵感", animalId: 8 }
                ]
            },
            {
                id: 17,
                text: "你更喜欢哪种旅行方式？",
                options: [
                    { text: "冒险探索，未知路线", animalId: 13 },
                    { text: "精心规划，舒适旅程", animalId: 12 },
                    { text: "与朋友同行，社交旅行", animalId: 6 },
                    { text: "独自旅行，自由自在", animalId: 3 }
                ]
            },
            {
                id: 18,
                text: "你如何看待规则？",
                options: [
                    { text: "必要遵守，维持秩序", animalId: 7 },
                    { text: "灵活运用，服务目标", animalId: 10 },
                    { text: "挑战不合理规则", animalId: 1 },
                    { text: "创造自己的规则", animalId: 3 }
                ]
            },
            {
                id: 19,
                text: "你的创造力表现在？",
                options: [
                    { text: "解决问题的新方法", animalId: 10 },
                    { text: "艺术或审美表达", animalId: 6 },
                    { text: "组织和领导方式", animalId: 1 },
                    { text: "日常生活的小创新", animalId: 14 }
                ]
            },
            {
                id: 20,
                text: "你希望别人如何记住你？",
                options: [
                    { text: "有影响力的领导者", animalId: 1 },
                    { text: "真诚可靠的朋友", animalId: 9 },
                    { text: "智慧深刻的思想者", animalId: 8 },
                    { text: "独特有趣的灵魂", animalId: 3 }
                ]
            }
        ];

        // 应用状态
        const state = {
            currentQuestionIndex: 0,
            answers: new Array(questions.length).fill(null),
            animalScores: new Array(animalsDatabase.length).fill(0)
        };

        // DOM元素
        const coverPage = document.getElementById('coverPage');
        const testPage = document.getElementById('testPage');
        const resultPage = document.getElementById('resultPage');
        const startBtn = document.getElementById('startBtn');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');
        const restartBtn = document.getElementById('restartBtn');
        const shareBtn = document.getElementById('shareBtn');
        const progressBar = document.getElementById('progressBar');
        const progressText = document.getElementById('progressText');
        const currentQuestionElement = document.getElementById('currentQuestion');
        const questionText = document.getElementById('questionText');
        const optionsContainer = document.getElementById('optionsContainer');

        // 结果页元素
        const resultIcon = document.getElementById('resultIcon');
        const resultName = document.getElementById('resultName');
        const resultScientific = document.getElementById('resultScientific');
        const resultDescription = document.getElementById('resultDescription');
        const resultTraits = document.getElementById('resultTraits');
        const matchPercentage = document.getElementById('matchPercentage');
        const otherAnimalsList = document.getElementById('otherAnimalsList');

        // 初始化应用
        function init() {
            // 事件监听
            startBtn.addEventListener('click', startTest);
            prevBtn.addEventListener('click', showPreviousQuestion);
            nextBtn.addEventListener('click', showNextQuestion);
            restartBtn.addEventListener('click', restartTest);
            shareBtn.addEventListener('click', shareResult);
            
            // 初始显示封面页
            coverPage.style.display = 'flex';
            testPage.style.display = 'none';
            resultPage.style.display = 'none';
        }

        // 开始测试
        function startTest() {
            coverPage.style.display = 'none';
            testPage.style.display = 'block';
            resultPage.style.display = 'none';
            
            state.currentQuestionIndex = 0;
            state.answers.fill(null);
            state.animalScores.fill(0);
            
            showQuestion(state.currentQuestionIndex);
        }

        // 显示问题
        function showQuestion(index) {
            const question = questions[index];
            
            // 更新进度条和文本
            const progress = ((index + 1) / questions.length) * 100;
            progressBar.style.width = `${progress}%`;
            progressText.textContent = `第${index + 1}题，共${questions.length}题`;
            currentQuestionElement.textContent = index + 1;
            
            // 设置问题文本
            questionText.textContent = question.text;
            
            // 清空选项容器
            optionsContainer.innerHTML = '';
            
            // 添加选项
            question.options.forEach((option, optionIndex) => {
                const optionElement = document.createElement('div');
                optionElement.className = 'option';
                if (state.answers[index] === optionIndex) {
                    optionElement.classList.add('selected');
                }
                
                optionElement.innerHTML = `
                    <div class="option-icon">
                        <i class="fas fa-circle"></i>
                    </div>
                    <div class="option-text">${option.text}</div>
                `;
                
                optionElement.addEventListener('click', () => selectOption(index, optionIndex));
                optionsContainer.appendChild(optionElement);
            });
            
            // 更新导航按钮状态
            prevBtn.disabled = index === 0;
            
            if (index === questions.length - 1) {
                nextBtn.innerHTML = '查看结果 <i class="fas fa-chart-bar"></i>';
            } else {
                nextBtn.innerHTML = '下一题 <i class="fas fa-arrow-right"></i>';
            }
            
            // 如果已回答过此题，启用下一题按钮
            nextBtn.disabled = state.answers[index] === null;
        }

        // 选择选项
        function selectOption(questionIndex, optionIndex) {
            // 移除之前的选择
            const options = document.querySelectorAll('.option');
            options.forEach(option => option.classList.remove('selected'));
            
            // 标记当前选择
            options[optionIndex].classList.add('selected');
            
            // 保存答案
            state.answers[questionIndex] = optionIndex;
            
            // 启用下一题按钮
            nextBtn.disabled = false;
            
            // 更新动物得分
            const selectedOption = questions[questionIndex].options[optionIndex];
            state.animalScores[selectedOption.animalId - 1] += 1;
        }

        // 显示上一题
        function showPreviousQuestion() {
            if (state.currentQuestionIndex > 0) {
                state.currentQuestionIndex--;
                showQuestion(state.currentQuestionIndex);
            }
        }

        // 显示下一题
        function showNextQuestion() {
            if (state.currentQuestionIndex < questions.length - 1) {
                state.currentQuestionIndex++;
                showQuestion(state.currentQuestionIndex);
            } else {
                // 最后一题，显示结果
                showResult();
            }
        }

        // 显示结果
        function showResult() {
            // 计算最终动物匹配
            const maxScore = Math.max(...state.animalScores);
            const maxScoreIndex = state.animalScores.indexOf(maxScore);
            const matchedAnimal = animalsDatabase[maxScoreIndex];
            
            // 计算匹配百分比
            const percentage = Math.min(95, Math.max(70, Math.round((maxScore / 20) * 100)));
            
            // 设置结果页面内容
            resultIcon.innerHTML = `<i class="${matchedAnimal.icon}"></i>`;
            resultName.textContent = matchedAnimal.name;
            resultScientific.textContent = matchedAnimal.scientific;
            resultDescription.textContent = matchedAnimal.description;
            matchPercentage.textContent = `${percentage}%`;
            
            // 添加特征标签
            resultTraits.innerHTML = '';
            matchedAnimal.traits.forEach(trait => {
                const traitElement = document.createElement('div');
                traitElement.className = 'trait';
                traitElement.textContent = trait;
                resultTraits.appendChild(traitElement);
            });
            
            // 添加其他可能匹配的动物
            otherAnimalsList.innerHTML = '';
            
            // 找到得分第二和第三的动物
            const sortedScores = [...state.animalScores].map((score, index) => ({ score, index }))
                .sort((a, b) => b.score - a.score);
            
            // 显示前5个其他动物（排除已经匹配的）
            let count = 0;
            for (let i = 0; i < sortedScores.length && count < 5; i++) {
                if (sortedScores[i].index !== maxScoreIndex) {
                    const animal = animalsDatabase[sortedScores[i].index];
                    const otherAnimalElement = document.createElement('div');
                    otherAnimalElement.className = 'other-animal';
                    otherAnimalElement.innerHTML = `
                        <div class="other-animal-icon"><i class="${animal.icon}"></i></div>
                        <div style="font-weight: 600; font-size: 0.9rem;">${animal.name}</div>
                        <div class="animal-type-tag">${animal.type}</div>
                    `;
                    otherAnimalsList.appendChild(otherAnimalElement);
                    count++;
                }
            }
            
            // 切换到结果页
            coverPage.style.display = 'none';
            testPage.style.display = 'none';
            resultPage.style.display = 'block';
        }

        // 重新测试
        function restartTest() {
            startTest();
        }

        // 分享结果
        function shareResult() {
            const animalName = resultName.textContent;
            const shareText = `我刚完成了「匹配属于你的动物塑」测试，我的动物灵魂是${animalName}！你也来试试吧~`;
            
            // 使用Web Share API如果可用
            if (navigator.share) {
                navigator.share({
                    title: '我的动物塑测试结果',
                    text: shareText,
                    url: window.location.href
                })
                .catch(error => console.log('分享失败:', error));
            } else {
                // 备用方案：复制到剪贴板
                navigator.clipboard.writeText(shareText)
                    .then(() => alert('结果已复制到剪贴板，快去分享给朋友吧！'))
                    .catch(err => alert('请手动复制分享结果'));
            }
        }

        // 页面加载完成后初始化
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>
